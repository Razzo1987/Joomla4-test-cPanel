((a,b,c,d)=>{'use strict';if(!b)throw new Error("core.js was not properly initialised");const e=({target:a})=>{1<a.value.length&&(a.awesomplete.list=[],b.request({url:`${b.getOptions("finder-search").url}&q=${a.value}`,method:"GET",data:{q:a.value},perform:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},onSuccess:b=>{const c=JSON.parse(b);"[object Array]"===Object.prototype.toString.call(c.suggestions)&&(a.awesomplete.list=c.suggestions)},onError:a=>{0<a.status&&b.renderMessages(b.ajaxErrorsMessages(a))}}))},f=a=>{a.stopPropagation();const b=a.target.querySelector(".js-finder-advanced");if(b.length){const a=[].slice.call(b.querySelectorAll("select"));a.forEach(a=>{a.value||a.setAttribute("disabled","disabled")})}},g=()=>{const c=[].slice.call(d.querySelectorAll(".js-finder-search-query"));c.forEach(c=>{b.getOptions("finder-search")&&(c.awesomplete=new a(c),c.addEventListener("keyup",e))});const h=[].slice.call(d.querySelectorAll(".js-finder-searchform"));h.forEach(a=>{a.addEventListener("submit",f)}),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g)})(window.Awesomplete,window.Joomla,window,document);