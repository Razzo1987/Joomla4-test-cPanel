(function(a,b,c,d){'use strict';if(!b)throw new Error("core.js was not properly initialised");var e=function(a){var c=a.target;1<c.value.length&&(c.awesomplete.list=[],b.request({url:"".concat(b.getOptions("finder-search").url,"&q=").concat(c.value),method:"GET",data:{q:c.value},perform:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},onSuccess:function onSuccess(a){var b=JSON.parse(a);"[object Array]"===Object.prototype.toString.call(b.suggestions)&&(c.awesomplete.list=b.suggestions)},onError:function onError(a){0<a.status&&b.renderMessages(b.ajaxErrorsMessages(a))}}))},f=function(a){a.stopPropagation();var b=a.target.querySelector(".js-finder-advanced");if(b.length){var c=[].slice.call(b.querySelectorAll("select"));c.forEach(function(a){a.value||a.setAttribute("disabled","disabled")})}},g=function(){var c=[].slice.call(d.querySelectorAll(".js-finder-search-query"));c.forEach(function(c){b.getOptions("finder-search")&&(c.awesomplete=new a(c),c.addEventListener("keyup",e))});var h=[].slice.call(d.querySelectorAll(".js-finder-searchform"));h.forEach(function(a){a.addEventListener("submit",f)}),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g)})(window.Awesomplete,window.Joomla,window,document);