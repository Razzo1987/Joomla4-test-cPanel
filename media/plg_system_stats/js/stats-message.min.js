Joomla=window.Joomla||{},function(a,b){'use strict';var c=function(a){var c=b.getElementById("system-message-container"),d=c.querySelector(".js-pstats-alert"),e=c.querySelector("#js-pstats-data-details");b.addEventListener("click",function(a){a.target.classList.contains("js-pstats-btn-details")&&(a.preventDefault(),e.classList.toggle("d-none"))}),b.addEventListener("click",function(b){b.target.classList.contains("js-pstats-btn-allow-always")&&(b.preventDefault(),d.close(),a({plugin:"sendAlways"}))}),b.addEventListener("click",function(b){b.target.classList.contains("js-pstats-btn-allow-once")&&(b.preventDefault(),d.close(),a({plugin:"sendOnce"}))}),b.addEventListener("click",function(b){b.target.classList.contains("js-pstats-btn-allow-never")&&(b.preventDefault(),d.close(),a({plugin:"sendNever"}))})},d=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},f=e.plugin,g=void 0===f?"sendStats":f,h="index.php?option=com_ajax&group=system&plugin=".concat(g,"&format=raw"),i=b.getElementById("system-message-container");a.request({url:h,headers:{"Content-Type":"application/json"},onSuccess:function onSuccess(a){try{var b=JSON.parse(a);b&&b.html&&(i.innerHTML=b.html,i.querySelector(".js-pstats-alert").classList.remove("hidden"),c(d))}catch(a){throw new Error(a)}},onError:function onError(b){a.renderMessages({error:[b.response]})}})};b.addEventListener("DOMContentLoaded",function(){d()})}(Joomla,document);