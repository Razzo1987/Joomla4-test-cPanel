Joomla=window.Joomla||{},((a,b)=>{'use strict';const c=a=>{const c=b.getElementById("system-message-container"),d=c.querySelector(".js-pstats-alert"),e=c.querySelector("#js-pstats-data-details");b.addEventListener("click",a=>{a.target.classList.contains("js-pstats-btn-details")&&(a.preventDefault(),e.classList.toggle("d-none"))}),b.addEventListener("click",b=>{b.target.classList.contains("js-pstats-btn-allow-always")&&(b.preventDefault(),d.close(),a({plugin:"sendAlways"}))}),b.addEventListener("click",b=>{b.target.classList.contains("js-pstats-btn-allow-once")&&(b.preventDefault(),d.close(),a({plugin:"sendOnce"}))}),b.addEventListener("click",b=>{b.target.classList.contains("js-pstats-btn-allow-never")&&(b.preventDefault(),d.close(),a({plugin:"sendNever"}))})},d=({plugin:e="sendStats"}={})=>{const f=b.getElementById("system-message-container");a.request({url:`index.php?option=com_ajax&group=system&plugin=${e}&format=raw`,headers:{"Content-Type":"application/json"},onSuccess:a=>{try{const b=JSON.parse(a);b&&b.html&&(f.innerHTML=b.html,f.querySelector(".js-pstats-alert").classList.remove("hidden"),c(d))}catch(a){throw new Error(a)}},onError:b=>{a.renderMessages({error:[b.response]})}})};b.addEventListener("DOMContentLoaded",()=>{d()})})(Joomla,document);