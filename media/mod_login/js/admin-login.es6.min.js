((a,b)=>{'use strict';b.addEventListener("DOMContentLoaded",()=>{const c=b.getElementById("btn-login-submit"),d=b.getElementById("form-login"),e=b.querySelector(".login-initial");c&&c.addEventListener("click",c=>{c.preventDefault(),d&&b.formvalidator.isValid(d)&&a.submitbutton("login")}),e&&(e.classList.remove("hidden"),!b.querySelector("joomla-alert")&&b.getElementById("mod-login-username").focus()),d&&d.addEventListener("submit",b=>{const c=[];b.preventDefault(),c.push("format=json");for(let a=0;a<d.elements.length;a+=1){const b=d.elements[a];b.hasAttribute("name")&&"INPUT"===b.nodeName?c.push(`${encodeURIComponent(b.name)}=${encodeURIComponent(b.value)}`):b.hasAttribute("name")&&"SELECT"===b.nodeName&&0<b.value.length&&c.push(`${encodeURIComponent(b.name)}=${encodeURIComponent(b.value)}`)}a.request({url:"index.php",method:"POST",data:c.join("&").replace(/%20/g,"+"),perform:!0,onSuccess:b=>{const c=JSON.parse(b);c.success?(a.Event.dispatch(d,"joomla:login"),window.location.href=c.data.return):"object"==typeof c.messages&&null!==c.messages&&a.renderMessages(c.messages)},onError:b=>{a.renderMessages(a.ajaxErrorsMessages(b))}})})})})(window.Joomla,document);