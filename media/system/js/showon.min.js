function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}(function(a){'use strict';var b=function(){function b(c){var d=this;_classCallCheck(this,b);var e=this;this.container=c||a,this.fields={},this.showonFields=[].slice.call(this.container.querySelectorAll("[data-showon]")),this.showonFields.length&&(this.showonFields.forEach(function(a){var b,c=a.getAttribute("data-showon")||"",f=JSON.parse(c);f.length&&(b=[].slice.call(e.container.querySelectorAll("[name=\"".concat(f[0].field,"\"], [name=\"").concat(f[0].field,"[]\"]"))),!d.fields[f[0].field]&&(d.fields[f[0].field]={origin:[],targets:[]}),b.forEach(function(a){-1===d.fields[f[0].field].origin.indexOf(a)&&d.fields[f[0].field].origin.push(a)}),d.fields[f[0].field].targets.push(a),1<f.length&&f.forEach(function(c,g){0===g||(b=[].slice.call(e.container.querySelectorAll("[name=\"".concat(c.field,"\"], [name=\"").concat(c.field,"[]\"]"))),!d.fields[f[0].field]&&(d.fields[f[0].field]={origin:[],targets:[]}),b.forEach(function(a){-1===d.fields[f[0].field].origin.indexOf(a)&&d.fields[f[0].field].origin.push(a)}),-1===d.fields[f[0].field].targets.indexOf(a)&&d.fields[f[0].field].targets.push(a))}))}),this.linkedOptions=this.linkedOptions.bind(this),Object.keys(this.fields).forEach(function(a){d.fields[a].origin.length&&d.fields[a].origin.forEach(function(b){e.linkedOptions(a),b.addEventListener("change",function(){e.linkedOptions(a)}),b.addEventListener("keyup",function(){e.linkedOptions(a)}),b.addEventListener("click",function(){e.linkedOptions(a)})})}))}return _createClass(b,[{key:"linkedOptions",value:function linkedOptions(b){var c=this;this.fields[b].targets.forEach(function(d){var e,f=JSON.parse(d.getAttribute("data-showon"))||[],g=!0;f.forEach(function(d,h){var i=d||{};i.valid=0,c.fields[b].origin.forEach(function(b){if(b.name===d.field){var c=b.id;if(b.getAttribute("type")&&-1!==["checkbox","radio"].indexOf(b.getAttribute("type").toLowerCase())){if(!b.checked)return;e=a.getElementById(c).value}else e=a.getElementById(c).value,null===e&&"select"===b.tagName.toLowerCase()&&(e=[]);"object"===_typeof(e)||(e=JSON.parse("[\"".concat(e,"\"]"))),e.forEach(function(a){"="===i.sign&&-1!==i.values.indexOf(a)&&(i.valid=1),"!="===i.sign&&-1===i.values.indexOf(a)&&(i.valid=1)})}}),""===i.op?0===i.valid&&(g=!1):("AND"===i.op&&2>i.valid+f[h-1].valid&&(g=!1,i.valid=0),"OR"===i.op&&0<i.valid+f[h-1].valid&&(g=!0,i.valid=1))}),"option"===d.tagName?d.disabled=!g:g?d.classList.remove("hidden"):d.classList.add("hidden")})}}]),b}();a.addEventListener("DOMContentLoaded",function(){new b(a)}),a.addEventListener("joomla:updated",function(a){var c=a.target;if(c.classList.contains("subform-repeatable-group")){var d=[].slice.call(c.querySelectorAll("[data-showon]")),e=new RegExp("\\[".concat(c.dataset.baseName,"X\\]"),"g"),f="[".concat(c.dataset.group,"]");d.forEach(function(a){var b=a.dataset.showon.replace(e,f);a.dataset.showon=b})}new b(c)})})(document);