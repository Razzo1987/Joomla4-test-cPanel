jQuery(document).ready(function(e){if(Joomla.getOptions("field-tag-custom")){var t=Joomla.getOptions("field-tag-custom");e(t.selector+"_chosen input").keyup(function(i){var l;if(this.value&&this.value.length>=t.minTermLength&&(13===i.which||188===i.which)){var r=e(t.selector+"_chosen").find("li.active-result.highlighted").first();if(13===i.which&&""!==r.text()){var o="#new#"+r.text();e(t.selector+" option").filter(function(){return e(this).val()==o}).remove(),(l=e(t.selector+" option").filter(function(){return e(this).html()==r.text()})).attr("selected","selected")}else{var s=this.value;if(""!==(l=e(t.selector+" option").filter(function(){return e(this).html()==s})).text())l.attr("selected","selected");else{var n=e("<option>");n.text(this.value).val("#new#"+this.value),n.attr("selected","selected"),e(t.selector).append(n)}}this.value="",e(t.selector).trigger("chosen:updated"),i.preventDefault()}})}});