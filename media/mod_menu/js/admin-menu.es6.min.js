((a,b)=>{'use strict';a.localStorageEnabled=()=>{const a="joomla-cms";try{return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch(a){return!1}};const c=b.querySelectorAll("ul.main-nav");c.forEach(a=>{new MetisMenu(a)});const d=b.getElementById("wrapper"),e=b.getElementById("sidebar-wrapper"),f=b.getElementById("menu-collapse-icon");if(a.localStorageEnabled()){const b=localStorage.getItem("atum-sidebar");"open"===b||null===b?(d.classList.remove("closed"),f.classList.remove("fa-toggle-off"),f.classList.add("fa-toggle-on"),localStorage.setItem("atum-sidebar","open"),a.Event.dispatch("joomla:menu-toggle","open")):(d.classList.add("closed"),f.classList.remove("fa-toggle-on"),f.classList.add("fa-toggle-off"),localStorage.setItem("atum-sidebar","closed"),a.Event.dispatch("joomla:menu-toggle","closed"))}if(e||d.classList.remove("closed"),e&&!e.getAttribute("data-hidden")){const c=b.getElementById("menu-collapse"),g=[].slice.call(e.querySelectorAll(".collapse-level-1"));g.forEach(a=>{const b=[].slice.call(a.querySelectorAll(".collapse-level-1"));b.forEach(a=>{a&&(a.classList.remove("collapse-level-1"),a.classList.add("collapse-level-2"))})});c.addEventListener("click",()=>{d.classList.toggle("closed"),f.classList.toggle("fa-toggle-on"),f.classList.toggle("fa-toggle-off");const c=[].slice.call(b.querySelectorAll(".main-nav > li"));c.forEach(a=>{a.classList.remove("open")});const e=b.querySelector(".child-open");e&&e.classList.remove("child-open");const g=a.localStorageEnabled();d.classList.contains("closed")?(g&&localStorage.setItem("atum-sidebar","closed"),a.Event.dispatch("joomla:menu-toggle","closed")):(g&&localStorage.setItem("atum-sidebar","open"),a.Event.dispatch("joomla:menu-toggle","open"))});const h=d.querySelectorAll("a.no-dropdown, a.collapse-arrow, .menu-dashboard > a"),i=window.location.href,j=b.querySelector("ul.main-nav"),k=[].slice.call(j.querySelectorAll("li.parent > a")),l=[].slice.call(j.querySelectorAll("li.parent .close"));h.forEach(a=>{if(i===a.href&&(a.setAttribute("aria-current","page"),a.classList.add("mm-active"),!a.parentNode.classList.contains("parent"))){const b=a.closest(".collapse-level-1"),c=a.closest(".collapse-level-2");b&&b.parentNode.classList.add("mm-active"),b&&b.classList.add("mm-show"),c&&c.parentNode.classList.add("mm-active"),c&&c.classList.add("mm-show")}});const m=({currentTarget:b})=>{let c=b.parentNode;if("span"===c.tagName.toLowerCase()&&(c=b.parentNode.parentNode),c.classList.contains("open"))j.classList.remove("child-open"),c.classList.remove("open");else{const a=[].slice.call(c.parentNode.children);a.forEach(a=>{a.classList.remove("open")}),d.classList.remove("closed"),localStorage.setItem("atum-sidebar","open"),f.classList.contains("fa-toggle-off")&&(f.classList.toggle("fa-toggle-off"),f.classList.toggle("fa-toggle-on")),j.classList.add("child-open"),c.parentNode.classList.contains("main-nav")&&c.classList.add("open")}a.Event.dispatch("joomla:menu-toggle","open")};k.forEach(a=>{a.addEventListener("click",m),a.addEventListener("keyup",m)}),l.forEach(a=>{a.addEventListener("click",()=>{const a=[].slice.call(j.querySelectorAll(".open"));a.forEach(a=>{a.classList.remove("open")}),j.classList.remove("child-open")})});const n=[].slice.call(e.querySelectorAll("ul[role=\"menubar\"] li"));n.forEach(a=>{a.addEventListener("keyup",a=>{(32===a.keyCode||13===a.keyCode)&&a.target.querySelector("a").click()})}),a.localStorageEnabled()&&"true"===localStorage.getItem("adminMenuState")&&(()=>{e.querySelector(".mm-collapse").classList.remove("mm-collapsed")})()}})(window.Joomla,document);