((a,b)=>{'use strict';const c=()=>{if(b.getOptions("js-extensions-update")){const c=b.getOptions("js-joomla-update"),d=(b,c)=>{const d=a.getElementById("plg_quickicon_joomlaupdate"),e=[].slice.call(d.querySelectorAll("span.j-links-link"));d&&d.classList.add(b),e.length&&e.forEach(a=>{a.innerHTML=c})};b.request({url:c.ajaxUrl,method:"GET",data:"",perform:!0,onSuccess:a=>{const e=JSON.parse(a);if(!Array.isArray(e))d("danger",b.Text._("PLG_QUICKICON_JOOMLAUPDATE_ERROR"));else if(0===e.length)d("success",b.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPTODATE"));else{const a=e.shift();a.version===c.version?d("success",b.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPTODATE")):d("danger",b.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPDATEFOUND").replace("%s",`<span class="badge badge-light"> \u200E ${a.version}</span>`))}},onError:()=>{d("danger",b.Text._("PLG_QUICKICON_JOOMLAUPDATE_ERROR"))}})}},d=()=>{if(!b||"function"!=typeof b.getOptions||!b.getOptions("js-joomla-update"))throw new Error("Script is not properly initialised");setTimeout(c,2e3),a.removeEventListener("DOMContentLoaded",d)};a.addEventListener("DOMContentLoaded",d)})(document,Joomla);