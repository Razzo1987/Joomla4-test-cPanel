(()=>{'use strict';document.addEventListener("DOMContentLoaded",()=>{const a=[].slice.call(document.querySelectorAll(".folder-url, .component-folder-url, .plugin-folder-url, .layout-folder-url")),b=[].slice.call(document.querySelectorAll(".folder ul, .component-folder ul, .plugin-folder ul, .layout-folder ul")),c=[].slice.call(document.querySelectorAll(".show > ul")),d=[].slice.call(document.querySelectorAll("#fileModal .folder-url")),e=[].slice.call(document.querySelectorAll("#folderModal .folder-url"));b.forEach(a=>{a.classList.add("hidden")}),c.forEach(a=>{a.classList.remove("hidden")}),a.forEach(a=>{a.addEventListener("click",a=>{a.preventDefault();const b=a.currentTarget.parentNode.querySelector("ul");b.classList.contains("hidden")?b.classList.remove("hidden"):b.classList.add("hidden")})}),d.forEach(a=>{a.addEventListener("click",a=>{a.preventDefault(),d.forEach(a=>{a.classList.remove("selected")}),a.currentTarget.classList.add("selected");const b=[].slice.call(document.querySelectorAll("#fileModal input.address"));b.forEach(b=>{b.value=a.currentTarget.getAttribute("data-id")})})}),e.forEach(a=>{a.addEventListener("click",a=>{a.preventDefault(),e.forEach(a=>{a.classList.remove("selected")}),a.currentTarget.classList.add("selected");const b=[].slice.call(document.querySelectorAll("#folderModal input.address"));b.forEach(b=>{b.value=a.currentTarget.getAttribute("data-id")})})});const f=document.querySelector("#treeholder .treeselect"),g=[].slice.call(f.querySelectorAll(".folder.show")),h=document.querySelector("p.lead.hidden.path");if(h){let a=document.querySelector("p.lead.hidden.path").innerText;a&&"/"===a.charAt(0)&&(a=a.slice(1),a=a.split("/"),a=a[a.length-1],g.forEach((a,b)=>{if(a.querySelector("a").classList.add("active"),b===g.length-1){const b=a.querySelector("ul"),c=[].slice.call(b.querySelectorAll("li"));c.forEach(a=>{const b=a.querySelector("a"),c=b.querySelector("span");c&&c.innerText.trim()&&b.classList.add("active")})}}))}const i=document.getElementById("image-crop");if(i){const a=document.getElementById("imageWidth").value,b=document.getElementById("imageHeight").value;new window.Cropper(i,{viewMode:1,scalable:!0,zoomable:!1,movable:!1,dragMode:"crop",cropBoxMovable:!0,cropBoxResizable:!0,autoCrop:!0,autoCropArea:1,background:!0,center:!0,minCanvasWidth:a,minCanvasHeight:b}),i.addEventListener("crop",a=>{document.getElementById("x").value=a.detail.x,document.getElementById("y").value=a.detail.y,document.getElementById("w").value=a.detail.width,document.getElementById("h").value=a.detail.height})}})})();