Joomla=window.Joomla||{},function(e,t){"use strict";t.extractionMethodHandler=function(t,a){var n="direct"===t.value?"hidden":"table-row";e.getElementById(a+"_hostname").classList.add(n),e.getElementById(a+"_port").classList.add(n),e.getElementById(a+"_username").classList.add(n),e.getElementById(a+"_password").classList.add(n),e.getElementById(a+"_directory").classList.add(n)},t.submitbuttonUpload=function(){var a=e.getElementById("uploadForm");""==a.install_package.value?alert(t.JText._("COM_INSTALLER_MSG_INSTALL_PLEASE_SELECT_A_PACKAGE"),!0):a.install_package.files[0].size>a.max_upload_size.value?alert(t.JText._("COM_INSTALLER_MSG_WARNINGS_UPLOADFILETOOBIG"),!0):a.submit()},t.installpackageChange=function(){var a=e.getElementById("uploadForm"),n=a.install_package.files[0].size,s=1*n/1024/1024,o=e.getElementById("file_size"),i=e.getElementById("max_upload_size_warn");""==a.install_package.value?(o.classList.add("hidden"),i.classList.add("hidden")):n&&(o.classList.remove("hidden"),o.innerHTML=t.JText._("JGLOBAL_SELECTED_UPLOAD_FILE_SIZE").replace("%s",s.toFixed(2)+" MB"),n>a.max_upload_size.value?i.classList.remove("hidden"):i.classList.add("hidden"))},e.addEventListener("DOMContentLoaded",function(){var a=e.getElementById("extraction_method"),n=e.getElementById("upload_method"),s=e.getElementById("uploadButton"),o=e.getElementById("downloadMessage");a&&a.addEventListener("change",function(){t.extractionMethodHandler(a,"row_ftp")}),n&&n.addEventListener("change",function(){t.extractionMethodHandler(n,"upload_ftp")}),s&&s.addEventListener("click",function(){o&&o.classList.remove("hidden")})})}(document,Joomla),function(e,t){var a={config:{serverUrl:"index.php?option=com_joomlaupdate&task=update.fetchextensioncompatibility",selector:".extension-check"},STATE:{INCOMPATIBLE:0,COMPATIBLE:1,MISSING_COMPATIBILITY_TAG:2,SERVER_ERROR:3},run:function(){a.joomlaTargetVersion=e.getElementById("joomlaupdate-wrapper").getAttribute("data-joomla-target-version"),[].slice.call(e.querySelectorAll(a.config.selector)).forEach(function(e){a.checkCompatibility(e,a.setResultView)})},checkCompatibility:function(e,n){var s={element:e,state:a.STATE.SERVER_ERROR,compatibleVersion:0};t.request({url:a.config.serverUrl+"&joomla-target-version="+encodeURIComponent(a.joomlaTargetVersion)+"&extension-id="+encodeURIComponent(e.getAttribute("data-extension-id")),onSuccess(t){var a=JSON.parse(t);s.state=a.data.state,s.compatibleVersion=a.data.compatibleVersion,s.currentVersion=e.getAttribute("data-extension-current-version"),n(s)},onError(){n(s)}})},setResultView:function(n){var s="",o=void 0!==e.dir?e.dir:e.getElementsByTagName("html")[0].getAttribute("dir");switch(n.state){case a.STATE.COMPATIBLE:s=n.compatibleVersion==n.currentVersion?'<span class="badge badge-success">'+t.JText._("JYES")+"</span>":"rtl"===o?'<span class="badge badge-warning">('+n.compatibleVersion+") "+t.JText._("JYES")+"</span>":'<span class="badge badge-warning">'+t.JText._("JYES")+" ("+n.compatibleVersion+")</span>";break;case a.STATE.INCOMPATIBLE:s='<span class="badge badge-danger">'+t.JText._("JNO")+"</span>";break;case a.STATE.MISSING_COMPATIBILITY_TAG:s='<span class="badge badge-secondary">'+t.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_VERSION_MISSING")+"</span>";break;default:s='<span class="badge badge-secondary">'+t.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_WARNING_UNKNOWN")+"</span>"}n.element.innerHTML=s}};e.addEventListener("DOMContentLoaded",a.run,!1)}(document,Joomla);