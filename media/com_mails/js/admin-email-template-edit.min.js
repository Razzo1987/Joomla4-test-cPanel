function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}(function(a,b){'use strict';var c=function(){function c(a,b){_classCallCheck(this,c),this.form=a,this.inputSubject=this.form.querySelector("#jform_subject"),this.inputBody=this.form.querySelector("#jform_body"),this.inputHtmlBody=this.form.querySelector("#jform_htmlbody"),this.templateData=b&&b.templateData?b.templateData:{},this.form.EmailTemplateEdit=this}return _createClass(c,[{key:"setBodyValue",value:function setBodyValue(a){this.inputBody.disabled||(b.editors.instances[this.inputBody.id]?b.editors.instances[this.inputBody.id].setValue(a):this.inputBody.value=a)}},{key:"setHtmlBodyValue",value:function setHtmlBodyValue(a){this.inputHtmlBody.disabled||(b.editors.instances[this.inputHtmlBody.id]?b.editors.instances[this.inputHtmlBody.id].setValue(a):this.inputHtmlBody.value=a)}},{key:"insertTag",value:function insertTag(a,c){if(!a)return!1;var d;switch(c){case"body":d=this.inputBody;break;case"htmlbody":d=this.inputHtmlBody;break;default:return!1;}return!d.disabled&&(b.editors.instances[d.id]?b.editors.instances[d.id].replaceSelection(a):d.value+=" ".concat(a),!0)}},{key:"bindListeners",value:function bindListeners(){var c=this,d=a.querySelectorAll("input[type=radio][name=\"jform[subject_switcher]\"]"),e=a.querySelectorAll("input[type=radio][name=\"jform[body_switcher]\"]"),f=a.querySelectorAll("input[type=radio][name=\"jform[htmlbody_switcher]\"]"),g=function(a){var b=a.target;"0"===b.value?(c.inputSubject.disabled=!0,c.inputSubject.value=c.templateData.subject?c.templateData.subject.master:""):"1"===b.value?(c.inputSubject.disabled=!1,c.inputSubject.value=c.templateData.subject?c.templateData.subject.translated:""):console.error("unrecognised value")};Array.prototype.forEach.call(d,function(a){a.addEventListener("change",g)});var h=function(a){var b=a.target,d=c.form.querySelector(".tags-container-body");"0"===b.value?(c.setBodyValue(c.templateData.body?c.templateData.body.master:""),c.inputBody.disabled=!0,d.classList.add("hidden")):"1"===b.value?(c.inputBody.disabled=!1,c.inputBody.readOnly=!1,c.setBodyValue(c.templateData.body?c.templateData.body.translated:""),d.classList.remove("hidden")):console.error("unrecognised value")};Array.prototype.forEach.call(e,function(a){a.addEventListener("change",h)});var i=function(a){var d=a.target,e=c.form.querySelector(".tags-container-htmlbody");"0"===d.value?(c.setHtmlBodyValue(c.templateData.htmlbody?c.templateData.htmlbody.master:""),c.inputHtmlBody.disabled=!0,b.editors.instances[c.inputHtmlBody.id].disable(!0),e.classList.add("hidden")):"1"===d.value?(b.editors.instances[c.inputHtmlBody.id].disable(!1),c.inputHtmlBody.disabled=!1,c.inputHtmlBody.readOnly=!1,c.setHtmlBodyValue(c.templateData.htmlbody?c.templateData.htmlbody.translated:""),e.classList.remove("hidden")):console.error("unrecognised value")};Array.prototype.forEach.call(f,function(a){a.addEventListener("change",i)}),this.form.querySelectorAll(".edit-action-add-tag").forEach(function(a){a.addEventListener("click",function(a){a.preventDefault();var b=a.target;c.insertTag(b.dataset.tag,b.dataset.target)})})}}]),c}();a.addEventListener("DOMContentLoaded",function(){var d=new c(a.getElementById("item-form"),b.getOptions("com_mails"));d.bindListeners()})})(document,Joomla);