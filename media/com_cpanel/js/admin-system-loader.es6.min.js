((a,b)=>{'use strict';const c=()=>{a.removeEventListener("DOMContentLoaded",c);const d=[].slice.call(a.querySelectorAll(".system-counter"));d.length&&d.forEach(c=>{const d=c.getAttribute("data-url");d&&b&&b.request&&"function"==typeof b.request&&b.request({url:d,method:"POST",onSuccess:b=>{let d;try{d=JSON.parse(b)}catch(a){throw new Error("Failed to parse JSON")}if(d.error||!d.success)c.classList.remove("fa-spin"),c.classList.remove("fa-spinner"),c.classList.add("text-danger"),c.classList.add("fa-remove");else if(d.data){const b=a.createElement("span");b.classList.add("float-right"),b.classList.add("badge"),b.classList.add("badge-warning"),b.innerHTML=d.data,c.parentNode.replaceChild(b,c)}else c.classList.remove("fa-spin"),c.classList.remove("fa-spinner"),c.classList.add("fa-check"),c.classList.add("text-success")},onError:()=>{c.classList.remove("fa-spin"),c.classList.remove("fa-spinner"),c.classList.add("text-danger"),c.classList.add("fa-remove")}})})};a.addEventListener("DOMContentLoaded",c)})(document,Joomla);