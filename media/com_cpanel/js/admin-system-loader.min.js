(function(a,b){'use strict';var c=function(){a.removeEventListener("DOMContentLoaded",c);var d=[].slice.call(a.querySelectorAll(".system-counter"));d.length&&d.forEach(function(c){var d=c.getAttribute("data-url");d&&b&&b.request&&"function"==typeof b.request&&b.request({url:d,method:"POST",onSuccess:function onSuccess(b){var d;try{d=JSON.parse(b)}catch(a){throw new Error("Failed to parse JSON")}if(d.error||!d.success)c.classList.remove("fa-spin"),c.classList.remove("fa-spinner"),c.classList.add("text-danger"),c.classList.add("fa-remove");else if(d.data){var e=a.createElement("span");e.classList.add("float-right"),e.classList.add("badge"),e.classList.add("badge-warning"),e.innerHTML=d.data,c.parentNode.replaceChild(e,c)}else c.classList.remove("fa-spin"),c.classList.remove("fa-spinner"),c.classList.add("fa-check"),c.classList.add("text-success")},onError:function onError(){c.classList.remove("fa-spin"),c.classList.remove("fa-spinner"),c.classList.add("text-danger"),c.classList.add("fa-remove")}})})};a.addEventListener("DOMContentLoaded",c)})(document,Joomla);