(function(a,b,c){c.unpublishModule=function(a){var b=a.getAttribute("data-module-id");c.request({url:"".concat("index.php?option=com_modules&task=modules.unpublish&format=json","&cid=").concat(b),method:"POST",headers:{"Content-Type":"application/json"},onSuccess:function onSuccess(){var b=a.closest(".module-wrapper");b.parentNode.removeChild(b),c.renderMessages({message:[c.JText._("COM_CPANEL_UNPUBLISH_MODULE_SUCCESS")]})},onError:function onError(){c.renderMessages({error:[c.JText._("COM_CPANEL_UNPUBLISH_MODULE_ERROR")]})}})};var d=function(){var a=b.getElementById("content");if(a){var e=[].slice.call(a.querySelectorAll(".unpublish-module"));e.forEach(function(a){a.addEventListener("click",function(a){var b=a.target;return c.unpublishModule(b)})})}b.removeEventListener("DOMContentLoaded",d)};b.addEventListener("DOMContentLoaded",d);var e={$gridBox:null,resizeGridItem:function resizeGridItem(a,b,c){var d=a.querySelector(".card");if(d){var e=d.getBoundingClientRect().height+c,f=Math.ceil(e/(b+c));a.style.gridRowEnd="span ".concat(f)}},resizeAllGridItems:function resizeAllGridItems(){var b=[].slice.call(e.$gridBox.children),c=a.getComputedStyle(e.$gridBox),d=parseInt(c.getPropertyValue("grid-auto-rows"),10)||0,f=parseInt(c.getPropertyValue("grid-row-gap"),10)||10;b.forEach(function(a){e.resizeGridItem(a,d,f)})},initialise:function initialise(){e.$gridBox=b.querySelector("#cpanel-modules .card-columns"),e.resizeAllGridItems();var c;a.addEventListener("resize",function(){a.clearTimeout(c),c=a.setTimeout(e.resizeAllGridItems,300)})}};a.addEventListener("load",e.initialise)})(window,document,window.Joomla);